# DimBridge Workflow

This file contains descriptions for all functions that will be used in DimBridge. Those highlighted in red will be the main contributions discussed in the paper. Functions that yield a $V$ (for Visualization) will need front-end implementation.

## Preprocessing

$PlotProjection: D \rightarrow V_{proj}$

Project $M$ dimensional data to 2 dimensions and make scatterplot.
___

## Selecting patterns in projection

$\color{red}{Select: \{x, y\} \rightarrow D_{s}}$

Selecting a set of points in projection space returns the corresponding points in data space.
___

$\color{red}{SelectReference: D_{s} \rightarrow D_{r}}$

$\color{red}{SelectReference: \{x, y\} \rightarrow D_{r}}$

A set of reference points can be selected the same way. If no reference points are selected the complement of the $D_{s}$ is chosen by default.
___

## Generating axis-aligned selections from data

$p: D \rightarrow D_{p} \subseteq D$

Applying a predicate to some $N \times M$ data yields a subset of that data.

___

$p_{\{attribute\}}: D \rightarrow D_{p_{\{attribute\}}} \subseteq D$

A predicate can be applied to data ignoring all but a subset of attributes.

___

$p_{\neg \{attribute\}}: D \rightarrow D_{p_{\neg \{attribute\}}} \subseteq D$

A predicate can be applied to data ignoring a subset of attributes.
___

$\color{red}{PredicateInduction: D_{s} \times D_{r} \rightarrow \{p\}}$

The predicate induction algorithm takes a set of target data and a set of reference data and returns a set of predicates.
___

## Proposing new selections via projection

Predicates generated by the algorithm are proposed to users as alternative axis-aligned selections. The functions described in this section should help users understand how the predicate differs from their original selection.

___
$\color{red}{BayesFactor: p \times D_{s} \times D_{r} \rightarrow \mathbb{R}}$

Predicates are ranked by a Bayes factor that shows how closely $D_{p}$ matches $D_{s}$ relative to $D_{r}$.
___

$\color{red}{AugmentProjection: p \times D_{s} \times D_{r} \times V_{proj} \rightarrow V^{*}_{proj}}$

Augment projection scatterplot to show true/false positives/negatives.

color: $s$

shape: $p$
___

$FPR: p \times D_{s} \times D \rightarrow \mathbb{R}$

The false positive rate given a selection and a predicate is the proportion of data points not in $D_{s}$ that are in $D_{p}$.
___

$FNR: p \times D_{s} \times D \rightarrow \mathbb{R}$

The false negative rate given a selection and a predicate is the proportion of data points in $D_{s}$ that are not in $D_{p}$.
___

$\color{red}{PlotError: p \times D_{s} \times D_{r} \times V_{proj} \rightarrow V^{*}_{error}}$

A heatmap that shows false positive/negative rates for binned regions of the projection for a given predicate. 

x: binned(x)

y: binned(y)

color: RGB(FNR * 255, 0, FPR * 255)
___

## Explaining selections via data

A selection can be explained by finding a local neighborhood where one or two attributes drive separation between the selection and the reference.

___

$Pivot: p \times \{attribute\} \times D \rightarrow D_{p_{\neg \{attribute\}}}$

Data can be "pivoted" on any set of one or more attributes included in a predicate. This will yield new data that is a local to $p$: all data points satisfy all other clauses in $p$, except those including an attribute in $\{attribute\}$.

For example, if the predicate **sales:[500, 1000] & profit:[150, 400] & month:[January, April]** is used to pivot on $sales$. This will yield data where all points have profit between 150 and 400 and month between January and April, but only some (those contained by the predicate) will have sales between 500 and 1000.
___

$\color{red}{PlotLocal1D: p \times D_{s} \times D_{r} \times attribute \rightarrow V^{*}_{attribute}}$

A histogram that shows how one attribute drives separation between data points in a local neighborhood around $p$.

data: $D_{p_{\neg attribute}}$

x: binned(attribute)

y: count(*)

color: $p_{attribute}$
___

$\color{red}{PlotLocal2D: p \times D_{s} \times D_{r} \times attributeX \times attributeY \rightarrow V^{*}_{attributeX, attributeY}}$

A Scatterplot that shows how two attributes drives separation between data points in a local neighborhood around $p$.

data: $D_{p_{\neg attributeX, attributeY}}$

x: attributeX

y: attributeY

color: $p_{attributeX, attributeY}$
___